import{a as I,b as c,c as H,d as K,e as V,f as j,g as q,h as A,i as B,j as L}from"./chunk-QQPOVTIS.js";import{$ as T,D as l,Da as R,G as w,M as b,N as v,P as _,Q as C,R as p,S as t,T as e,U as u,W as x,X as E,Y as k,Z as F,_ as o,a as h,b as S,na as D,o as f,va as U,w as y,wa as N}from"./chunk-4DXK4BSP.js";var G=(n,r)=>r.id;function M(n,r){n&1&&(t(0,"p",6),o(1,"Blog title is required."),e())}function P(n,r){n&1&&(t(0,"p",6),o(1,"A valid URL is required."),e())}function $(n,r){if(n&1&&(t(0,"div")(1,"label",24)(2,"div",25),u(3,"input",26)(4,"div",27),t(5,"span",28),o(6),e()()()()),n&2){let a,i,s,d,m=r.$implicit,g=E();l(),F("border-[var(--color-primary-500)]",((a=g.settingsForm.get("theme"))==null?null:a.value)===m.id)("ring-2",((i=g.settingsForm.get("theme"))==null?null:i.value)===m.id)("ring-[var(--color-primary-500)]",((s=g.settingsForm.get("theme"))==null?null:s.value)===m.id)("border-slate-300",((d=g.settingsForm.get("theme"))==null?null:d.value)!==m.id),p("for","theme-"+m.id),l(2),p("id","theme-"+m.id)("value",m.id),l(),k("background-color",m.color),l(2),T(m.name)}}var O=class n{constructor(){this.settingsService=f(R);this.fb=f(B);this.router=f(U);this.themes=[{id:"sky",name:"Sky Blue",color:"#0ea5e9"},{id:"indigo",name:"Indigo",color:"#6366f1"},{id:"teal",name:"Teal",color:"#14b8a6"},{id:"rose",name:"Rose",color:"#f43f5e"}];this.settingsForm=this.fb.group({blogTitle:["",c.required],dataSourceUrl:["",[c.required,c.pattern("https?://.+")]],theme:["sky",c.required],appHeaderImageUrl:[""],seoDescription:[""],seoKeywords:[""]});y(()=>{let r=this.settingsService.settings(),a=S(h({},r),{appHeaderImageUrl:r.appHeaderImageUrl||"",seoDescription:r.seoDescription||"",seoKeywords:r.seoKeywords||""});this.settingsForm.patchValue(a)})}onSave(){this.settingsForm.valid&&(this.settingsService.updateSettings(this.settingsForm.getRawValue()),this.router.navigate(["/"]))}onReset(){confirm("Are you sure you want to reset all settings to their default values? This will be saved to the server.")&&this.settingsService.resetSettings()}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=w({type:n,selectors:[["app-settings"]],decls:45,vars:4,consts:[[1,"max-w-2xl","mx-auto","bg-white","rounded-lg","shadow-lg","p-6","sm:p-8"],[1,"text-3xl","sm:text-4xl","font-extrabold","text-slate-900","mb-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"space-y-6"],["for","blogTitle",1,"block","text-sm","font-medium","text-slate-700"],["type","text","id","blogTitle","formControlName","blogTitle",1,"mt-1","block","w-full","px-3","py-2","bg-white","border","border-slate-300","rounded-md","shadow-sm","placeholder-slate-400","focus:outline-none","focus:ring-[var(--color-primary-500)]","focus:border-[var(--color-primary-500)]","sm:text-sm"],[1,"mt-2","text-sm","text-red-600"],["for","dataSourceUrl",1,"block","text-sm","font-medium","text-slate-700"],["type","url","id","dataSourceUrl","formControlName","dataSourceUrl",1,"mt-1","block","w-full","px-3","py-2","bg-white","border","border-slate-300","rounded-md","shadow-sm","placeholder-slate-400","focus:outline-none","focus:ring-[var(--color-primary-500)]","focus:border-[var(--color-primary-500)]","sm:text-sm"],["for","appHeaderImageUrl",1,"block","text-sm","font-medium","text-slate-700"],["type","url","id","appHeaderImageUrl","formControlName","appHeaderImageUrl","placeholder","https://example.com/header.jpg",1,"mt-1","block","w-full","px-3","py-2","bg-white","border","border-slate-300","rounded-md","shadow-sm","placeholder-slate-400","focus:outline-none","focus:ring-[var(--color-primary-500)]","focus:border-[var(--color-primary-500)]","sm:text-sm"],[1,"pt-6","mt-6","border-t","border-slate-200"],[1,"text-xl","font-bold","text-slate-800","mb-4"],["for","seoDescription",1,"block","text-sm","font-medium","text-slate-700"],["id","seoDescription","formControlName","seoDescription","rows","3",1,"mt-1","block","w-full","px-3","py-2","bg-white","border","border-slate-300","rounded-md","shadow-sm","placeholder-slate-400","focus:outline-none","focus:ring-[var(--color-primary-500)]","focus:border-[var(--color-primary-500)]","sm:text-sm"],["for","seoKeywords",1,"block","text-sm","font-medium","text-slate-700"],["type","text","id","seoKeywords","formControlName","seoKeywords",1,"mt-1","block","w-full","px-3","py-2","bg-white","border","border-slate-300","rounded-md","shadow-sm","placeholder-slate-400","focus:outline-none","focus:ring-[var(--color-primary-500)]","focus:border-[var(--color-primary-500)]","sm:text-sm"],[1,"block","text-sm","font-medium","text-slate-700"],[1,"mt-2","grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"mt-8","pt-5","border-t","border-slate-200","flex","flex-col","sm:flex-row","justify-between","items-center","gap-4"],["type","button",1,"w-full","sm:w-auto","px-4","py-2","border","border-red-300","rounded-md","shadow-sm","text-sm","font-medium","text-red-700","bg-white","hover:bg-red-50",3,"click"],[1,"flex","w-full","sm:w-auto","space-x-4"],["routerLink","/",1,"w-full","justify-center","sm:w-auto","flex","items-center","px-4","py-2","border","border-slate-300","rounded-md","shadow-sm","text-sm","font-medium","text-slate-700","bg-white","hover:bg-slate-50"],["type","submit",1,"w-full","sm:w-auto","inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-[var(--color-primary-600)]","hover:bg-[var(--color-primary-700)]","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-[var(--color-primary-500)]","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"block","w-full","p-4","rounded-lg","border-2","cursor-pointer","transition-all",3,"for"],[1,"flex","items-center"],["type","radio","formControlName","theme",1,"sr-only",3,"id","value"],[1,"h-6","w-6","rounded-full"],[1,"ml-3","font-medium","text-slate-800"]],template:function(a,i){if(a&1&&(t(0,"div",0)(1,"h1",1),o(2,"Settings"),e(),t(3,"form",2),x("ngSubmit",function(){return i.onSave()}),t(4,"div",3)(5,"div")(6,"label",4),o(7,"Blog Title"),e(),u(8,"input",5),b(9,M,2,0,"p",6),e(),t(10,"div")(11,"label",7),o(12,"Data Source URL"),e(),u(13,"input",8),b(14,P,2,0,"p",6),e(),t(15,"div")(16,"label",9),o(17,"App Header Image URL (Optional)"),e(),u(18,"input",10),e(),t(19,"div",11)(20,"h2",12),o(21,"Default SEO Settings"),e(),t(22,"div",3)(23,"div")(24,"label",13),o(25,"Default SEO Description"),e(),u(26,"textarea",14),e(),t(27,"div")(28,"label",15),o(29,"Default SEO Keywords (comma-separated)"),e(),u(30,"input",16),e()()(),t(31,"div")(32,"label",17),o(33,"Theme Color"),e(),t(34,"div",18),_(35,$,7,14,"div",null,G),e()()(),t(37,"div",19)(38,"button",20),x("click",function(){return i.onReset()}),o(39," Reset to Defaults "),e(),t(40,"div",21)(41,"a",22),o(42," Cancel "),e(),t(43,"button",23),o(44," Save Settings "),e()()()()()),a&2){let s,d;l(3),p("formGroup",i.settingsForm),l(6),v((s=i.settingsForm.get("blogTitle"))!=null&&s.invalid&&((s=i.settingsForm.get("blogTitle"))!=null&&s.touched)?9:-1),l(5),v((d=i.settingsForm.get("dataSourceUrl"))!=null&&d.invalid&&((d=i.settingsForm.get("dataSourceUrl"))!=null&&d.touched)?14:-1),l(21),C(i.themes),l(8),p("disabled",i.settingsForm.invalid)}},dependencies:[D,L,V,I,j,H,K,A,q,N],encapsulation:2,changeDetection:0})}};export{O as SettingsComponent};
