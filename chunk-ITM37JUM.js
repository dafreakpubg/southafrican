import{a as j}from"./chunk-NTSR675Z.js";import{$ as v,B as S,C,Ca as U,D as a,Da as $,G as w,L as y,M as m,N as p,O as T,P as D,Q as P,R as g,S as n,T as o,U as u,V as B,W as E,X as c,_ as r,aa as k,da as M,fa as L,ga as I,ia as H,ja as A,ma as K,na as N,o as s,p as x,q as f,r as h,s as b,sa as V,ta as z,va as F,w as _,wa as O}from"./chunk-4DXK4BSP.js";var q=i=>["/edit",i];function J(i,t){if(i&1&&u(0,"img",2),i&2){let e=c();g("src",e.headerImageUrl,C)("alt","Header image for "+e.title)}}function Q(i,t){if(i&1&&(n(0,"span",13),r(1),o()),i&2){let e=t.$implicit;a(),v(e)}}function W(i,t){if(i&1){let e=B();n(0,"div",14)(1,"a",15),r(2," Edit Post "),o(),n(3,"button",16),E("click",function(){x(e);let d=c(),R=c();return f(R.onDeletePost(d.id))}),r(4," Delete Post "),o()()}if(i&2){let e=c();a(),g("routerLink",M(1,q,e.id))}}function X(i,t){if(i&1&&(n(0,"article",0),m(1,J,1,2,"img",2),n(2,"div",3)(3,"div",4)(4,"a",5),h(),n(5,"svg",6),u(6,"path",7),o(),r(7," Back to all posts "),o(),b(),n(8,"h1",8),r(9),o(),n(10,"div",9)(11,"span"),r(12),o(),n(13,"span",10),r(14,"|"),o(),n(15,"time"),r(16),L(17,"date"),o()()(),u(18,"div",11),n(19,"div",12),D(20,Q,2,1,"span",13,T),o(),m(22,W,5,3,"div",14),o()()),i&2){let e=t,l=c();a(),p(e.headerImageUrl?1:-1),a(8),v(e.title),a(3),k("By ",e.author),a(3),y("datetime",e.publicationDate),a(),v(I(17,7,e.publicationDate,"fullDate")),a(2),g("innerHTML",e.content,S),a(2),P(e.tags),a(2),p(l.isAuthenticated()?22:-1)}}function Y(i,t){i&1&&(n(0,"div",1)(1,"h2",17),r(2,"Post not found!"),o(),n(3,"p",18),r(4,"The post you are looking for does not exist."),o(),n(5,"a",19),r(6," Go to Home "),o()())}var G=class i{constructor(){this.slug=A.required();this.blogService=s(j);this.authService=s(U);this.router=s(F);this.titleService=s(z);this.metaService=s(V);this.settingsService=s($);this.isAuthenticated=this.authService.isAuthenticated;this.post=H(()=>this.blogService.posts().find(t=>t.slug===this.slug()));_(()=>{let t=this.post();if(t){let e=t.seoTitle||t.title,l=t.seoDescription||this.settingsService.settings().seoDescription,d=t.seoKeywords||this.settingsService.settings().seoKeywords;this.titleService.setTitle(`${e} | ${this.settingsService.settings().blogTitle}`),this.metaService.updateTag({name:"description",content:l}),this.metaService.updateTag({name:"keywords",content:d})}})}ngOnDestroy(){let t=this.settingsService.settings();this.titleService.setTitle(t.blogTitle),this.metaService.updateTag({name:"description",content:t.seoDescription}),this.metaService.updateTag({name:"keywords",content:t.seoKeywords})}onDeletePost(t){confirm("Are you sure you want to delete this post? This action cannot be undone.")&&(this.blogService.deletePost(t),this.router.navigate(["/"]))}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=w({type:i,selectors:[["app-blog-post"]],inputs:{slug:[1,"slug"]},decls:2,vars:1,consts:[[1,"bg-white","rounded-lg","shadow-lg","overflow-hidden"],[1,"text-center","py-16","bg-white","rounded-lg","shadow-md"],[1,"w-full","aspect-video","object-cover",3,"src","alt"],[1,"p-6","sm:p-8","md:p-10"],[1,"mb-6"],["routerLink","/",1,"text-[var(--color-primary-600)]","hover:text-[var(--color-primary-800)]","transition-colors","flex","items-center","mb-4","group"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2","transition-transform","group-hover:-translate-x-1"],["fill-rule","evenodd","d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"text-4xl","lg:text-5xl","font-extrabold","text-slate-900","mb-3"],[1,"text-base","text-slate-500","flex","items-center","flex-wrap"],[1,"mx-2","hidden","sm:inline"],[1,"prose","prose-lg","max-w-none","text-slate-800","leading-relaxed","mb-8",3,"innerHTML"],[1,"flex","flex-wrap","gap-2","mb-8"],[1,"bg-slate-100","text-slate-800","text-sm","font-medium","px-3","py-1","rounded-full"],[1,"border-t","border-slate-200","pt-6","flex","items-center","gap-4"],[1,"bg-slate-700","hover:bg-slate-800","text-white","font-bold","py-2","px-4","rounded-lg","transition-transform","transform","hover:scale-105","shadow-md",3,"routerLink"],[1,"bg-red-600","hover:bg-red-700","text-white","font-bold","py-2","px-4","rounded-lg","transition-transform","transform","hover:scale-105","shadow-md",3,"click"],[1,"text-2xl","font-semibold","text-slate-700"],[1,"text-slate-500","mt-2"],["routerLink","/",1,"mt-6","inline-block","bg-[var(--color-primary-600)]","hover:bg-[var(--color-primary-700)]","text-white","font-bold","py-3","px-6","rounded-lg","transition-transform","transform","hover:scale-105","shadow-md"]],template:function(e,l){if(e&1&&m(0,X,23,10,"article",0)(1,Y,7,0,"div",1),e&2){let d;p((d=l.post())?0:1,d)}},dependencies:[O,N,K],encapsulation:2,changeDetection:0})}};export{G as BlogPostComponent};
