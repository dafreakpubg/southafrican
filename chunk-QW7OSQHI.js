import{a as C,b as S,c as L,d as M,e as F,g as N,h as D,i as I,j as _}from"./chunk-QQPOVTIS.js";import{$ as b,Ca as w,D as i,G as g,M as p,N as u,R as d,S as r,T as o,U as c,W as f,X as v,_ as a,aa as h,na as x,o as l,v as m,va as y}from"./chunk-4DXK4BSP.js";function k(n,s){if(n&1&&(r(0,"p",7),a(1),o()),n&2){let e=v();i(),b(e.errorMessage())}}var E=class n{constructor(){this.authService=l(w);this.fb=l(I);this.router=l(y);this.isLoggingIn=m(!1);this.errorMessage=m(null);this.loginForm=this.fb.group({password:["",S.required]})}onSubmit(){if(this.loginForm.invalid)return;this.isLoggingIn.set(!0),this.errorMessage.set(null);let s=this.loginForm.value.password;this.authService.login(s).subscribe(e=>{this.isLoggingIn.set(!1),e&&e.token?this.router.navigate(["/"]):this.errorMessage.set("Login failed. Please check your password and try again.")})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=g({type:n,selectors:[["app-login"]],decls:14,vars:4,consts:[[1,"max-w-md","mx-auto","mt-10"],[1,"bg-white","rounded-lg","shadow-lg","p-6","sm:p-8"],[1,"text-3xl","font-extrabold","text-slate-900","mb-6","text-center"],[3,"ngSubmit","formGroup"],[1,"space-y-4"],["for","password",1,"block","text-sm","font-medium","text-slate-700","sr-only"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"mt-1","block","w-full","px-3","py-2","bg-white","border","border-slate-300","rounded-md","shadow-sm","placeholder-slate-400","focus:outline-none","focus:ring-[var(--color-primary-500)]","focus:border-[var(--color-primary-500)]","sm:text-sm"],[1,"text-sm","text-red-600"],[1,"mt-6"],["type","submit",1,"w-full","inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-[var(--color-primary-600)]","hover:bg-[var(--color-primary-700)]","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-[var(--color-primary-500)]","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"Admin Login"),o(),r(4,"form",3),f("ngSubmit",function(){return t.onSubmit()}),r(5,"div",4)(6,"div")(7,"label",5),a(8,"Password"),o(),c(9,"input",6),o(),p(10,k,2,1,"p",7),o(),r(11,"div",8)(12,"button",9),a(13),o()()()()()),e&2&&(i(4),d("formGroup",t.loginForm),i(6),u(t.errorMessage()?10:-1),i(2),d("disabled",t.loginForm.invalid||t.isLoggingIn()),i(),h(" ",t.isLoggingIn()?"Logging in...":"Login"," "))},dependencies:[x,_,F,C,L,M,D,N],encapsulation:2,changeDetection:0})}};export{E as LoginComponent};
